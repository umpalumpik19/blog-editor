function t_posWidget__init(){var t;if("edit"!==document.getElementById("allrecords").getAttribute("data-tilda-mode")){var e=document.querySelector('.t706__carticon:not([class*="t-menuwidgeticons__button_hidden"])'),i=document.querySelector('.t1002__wishlisticon:not([class*="t-menuwidgeticons__button_hidden"])'),d=document.querySelector('.t985__search-widget-button:not([class*="t-menuwidgeticons__button_hidden"])'),n=window.tildaMembers||document.querySelector('script[src*="tilda-buyer-dashboard"]'),o;if(e||i||d||n)if(t_posWidget__setDefaultCoordinates({top:t_posWidget__getDefaultWidgetTop()}),window.tPosWidget={widgetCount:0,widgets:[],widgetRect:{},margin:20},e&&t_posWidget__addWidget({widgetIsInit:!1,widgetDataInit:"tcart_initted",widget:e,widgetId:"t706-widget-style",widgetClass:"t706__carticon",widgetShowClass:"t706__carticon_showed"}),i&&t_posWidget__addWidget({widgetIsInit:!1,widgetDataInit:"twishlist_initted",widget:i,widgetId:"t1002-widget-style",widgetClass:"t1002__wishlisticon",widgetShowClass:"t1002__wishlisticon_showed"}),d&&t_posWidget__addWidget({widgetIsInit:!1,widgetDataInit:"tsearchwidget_initted",widget:d,widgetId:"t985-widget-style",widgetClass:"t985__search-widget-button",widgetShowClass:"t-search-widget__button_showed"}),tPosWidget.widgetCount<2&&!n)window.tPosWidget={};else{tPosWidget.widgetCount>3&&(tPosWidget.height=60),document.head.insertAdjacentHTML("beforeend","<style>.t-pos-widget__hide { opacity: 0 !important; z-index: -1; }</style>"),t_posWidget__updateStyleWidget();var s=window.innerWidth;window.addEventListener("resize",t_posWidget__debounce((function(){(window.innerWidth<=960&&s>960||window.innerWidth>960&&s<=960||window.innerWidth>=640&&s<=640||window.innerWidth<=640&&s<=960)&&(s=window.innerWidth,t_posWidget__updateStyleWidget())})))}}}function t_posWidget__updateStyleWidget(){if(window.tPosWidget&&tPosWidget.widgetCount&&!(tPosWidget.widgetCount<2)){var t=window.innerWidth<=960;t_posWidget__hideWidget(),t_posWidget__checkWidgetsInit().finally((function(){t_posWidget__showWidget()})).then((function(){tPosWidget.widgets.forEach((function(e){t_posWidget__addStyleWidget(e,t)})),tPosWidget.widgetRect={}}))}}function t_posWidget__addStyleWidget(t,e){var i=document.getElementById(t.widgetId);i&&i.remove();var d=t_posWidget__getDefaultWidgetTop(),n=tPosWidget.widgetRect,o=window.getComputedStyle(t.widget),s=parseInt(o.top),g=parseInt(o.right),_=parseInt(o.height),a=window.scrollBarWidthCompensator;if(a&&a.isInited){var r=a.scrollBarWidth;0===a.scrollBarWidth&&document.body.style.paddingRight&&(r=parseInt(document.body.style.paddingRight)),g-=r}if(!(!t.widget.classList.contains(t.widgetShowClass)&&"none"===o.display||s!==d||50!==g&&20!==g))if(_||"none"!==o.display||(t.widget.style.display="block",t.widget.style.opacity=0,_=parseInt(o.height),t.widget.style.display="",t.widget.style.opacity=1),n.top){var w=t.widget.closest(".t-rec"),c=w.id,l=parseInt(n.top)+parseInt(n.height)+tPosWidget.margin,u=parseInt(n.right),W,p="",h="";h+="#"+c+" ."+t.widgetClass+"{",h+="top:"+l+"px;",h+="right:"+u+"px;",h+="}",p+='<style id="'+t.widgetId+'">',e?(p+="@media screen and (max-width: 960px) {",p+=h,p+="}"):(p+="@media screen and (min-width: 961px) {",p+=h,p+="}"),p+="</style>",w.insertAdjacentHTML("beforeend",p),t_posWidget__updateDataPositionWidget({top:l,right:u,height:_})}else t_posWidget__updateDataPositionWidget({top:s,right:g,height:_})}function t_posWidget__updateDataPositionWidget(t){tPosWidget.widgetRect.top=t.top,tPosWidget.widgetRect.right=t.right,tPosWidget.widgetRect.height=t.height}function t_posWidget__showWidget(){tPosWidget.widgets&&tPosWidget.widgets.forEach((function(t){t.widget.classList.remove("t-pos-widget__hide")}))}function t_posWidget__hideWidget(){tPosWidget.widgets&&tPosWidget.widgets.forEach((function(t){t.widget.classList.add("t-pos-widget__hide")}))}function t_posWidget__checkWidgetsInit(){return new Promise((function(t,e){var i=50,d=0,n=t_posWidget__getIsAllWidgetsInit();if(n)return t();var o=setInterval((function(){return d++,(n=t_posWidget__getIsAllWidgetsInit())?(clearInterval(o),t()):d>=i?(clearInterval(o),e()):void 0}),100)}))}function t_posWidget__getIsAllWidgetsInit(){return!!tPosWidget.widgets&&(tPosWidget.widgets.forEach((function(t){window[t.widgetDataInit]&&!t.widgetIsInit&&(t.widgetIsInit=!0)})),tPosWidget.widgets.filter((function(t){return t.widgetIsInit})).length===tPosWidget.widgetCount);var t}function t_posWidget__addWidget(t,e){tPosWidget.widgetCount=tPosWidget.widgetCount+1,e?tPosWidget.widgets=[t].concat(tPosWidget.widgets):tPosWidget.widgets.push(t)}function t_posWidget__debounce(t){var e;return function(){var i=Array.prototype.slice.call(arguments);clearTimeout(e),e=setTimeout((function(){t.apply(null,i)}),200)}}function t_posWidget__hasHeader(){return!!document.getElementById("t-header")}function t_posWidget__getDefaultWidgetTop(){var t,e;return t_posWidget__hasHeader()?100:50}function t_posWidget__addOrUpdateStyleTag(t,e){var i=document.getElementById(t);i?i.innerHTML=e:((i=document.createElement("style")).id=t,i.innerHTML=e,document.body.appendChild(i))}function t_posWidget__setDefaultCoordinates(t){var e=t.top,i=t.right,d,n,o;t_posWidget__addOrUpdateStyleTag("t-pos-widget-styles",'\n\t\t.t706__carticon:not([class*="t-menuwidgeticons__button_hidden"]),\n\t\t.t1002__wishlisticon:not([class*="t-menuwidgeticons__button_hidden"]),\n\t\t.t985__search-widget-button:not([class*="t-menuwidgeticons__button_hidden"]),\n\t\t.tlk-userbar {\n\t\t\t'+(e?"top: "+e+"px;":"")+"\n\t\t\t"+(i?"right: "+i+"px;":"")+"\n\t\t}")}t_onReady(t_posWidget__init);
